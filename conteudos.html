<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Conte√∫dos - EducaF√°cil</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body id="page-body">

<!-- WIDGET DE ACESSIBILIDADE (MESMA ESTRUTURA DAS OUTRAS TELAS) -->
<div id="accessibility-widget" class="ac-widget ac-hidden" aria-hidden="true">
    <!-- ... mant√©m o mesmo conte√∫do do widget j√° usado nas outras telas ... -->
</div>

<button id="accessibility-btn" class="ac-fab" aria-label="Abrir menu de acessibilidade">
    <img src="https://api.iconify.design/material-symbols/accessibility-new.svg?color=%23ffffff"
         alt="√çcone de acessibilidade">
</button>

<div class="dashboard-layout">
    <div class="sidebar">
        <div class="profile-box">
            <img id="aluno-foto" src="https://i.imgur.com/gKjG1o2.png" alt="Foto de perfil do Aluno">
            <p id="aluno-nome" class="aluno-name" style="font-weight: 600;">Aluno</p>
            <p id="aluno-email" class="aluno-email">aluno.ic9@educ.edu.br</p>
        </div>
        <nav class="sidebar-nav">
            <div class="nav-item"><a href="home.html"><i class="icon">üè†</i>Home</a></div>
            <div class="nav-item"><a href="forum.html"><i class="icon">üí¨</i>F√≥rum</a></div>
            <div class="nav-item"><a href="aulas.html"><i class="icon">‚ñ∂Ô∏è</i>Aulas</a></div>
            <div class="nav-item active"><a href="conteudos.html"><i class="icon">üìö</i>Conte√∫dos</a></div>
            <div class="nav-item"><a href="exercicios.html"><i class="icon">üìù</i>Exerc√≠cios</a></div>
            <div class="nav-item"><a href="configuracoes.html"><i class="icon">‚öôÔ∏è</i>Configura√ß√µes</a></div>
            <div class="nav-item"><a href="certificados.html"><i class="icon">üèÖ</i>Certificados</a></div>
        </nav>
        <input type="text" placeholder="Pesquisar" aria-label="Pesquisar na plataforma"
               style="margin: 20px 15px; padding: 8px; border-radius: 10px; border: none;
                      width: calc(100% - 30px); opacity: 0.8;">
    </div>

    <div class="main-content">
        <div class="main-content-area conteudos-main">
            <h1>Conte√∫dos de Programa√ß√£o de Computadores e Algoritmos</h1>
            <p class="conteudos-subtitle" aria-live="polite">
                Acompanhe as unidades do curso, veja materiais de apoio e saiba o que j√° foi finalizado.
            </p>

            <!-- Faixa com unidade atual -->
            <div class="card-simple unidade-atual-card" tabindex="0"
                 aria-label="Unidade atual de estudo em programa√ß√£o de computadores e algoritmos">
                <p class="unidade-atual-label">Voc√™ est√° na</p>
                <p id="unidade-atual-nome" class="unidade-atual-nome">Unidade 1 ‚Äì Introdu√ß√£o a Algoritmos</p>
                <p id="unidade-atual-status" class="unidade-atual-status">Em andamento</p>
            </div>

            <!-- Grid de unidades -->
            <div class="unidades-grid">

                <!-- Mapa da disciplina / gerais -->
                <div class="card-simple mapa-card" tabindex="0"
                     aria-label="Mapa geral da disciplina de programa√ß√£o de computadores e algoritmos">
                    <h3>Mapa da disciplina</h3>
                    <ul class="conteudos-list">
                        <li>Unidade 1 ‚Äì Introdu√ß√£o a algoritmos e l√≥gica de programa√ß√£o.</li>
                        <li>Unidade 2 ‚Äì Vari√°veis, tipos de dados e operadores.</li>
                        <li>Unidade 3 ‚Äì Estruturas de decis√£o.</li>
                        <li>Unidade 4 ‚Äì Estruturas de repeti√ß√£o.</li>
                        <li>Unidade 5 ‚Äì Vetores e matrizes.</li>
                        <li>Unidade 6 ‚Äì Resolu√ß√£o de problemas integrando os conte√∫dos.</li>
                    </ul>
                    <h4>Materiais gerais</h4>
                    <button type="button" class="home-link-btn"
                            onclick="window.open('pdfs/apostila_pca.pdf','_blank')">
                        Apostila completa
                    </button>
                    <button type="button" class="home-link-btn"
                            onclick="window.open('pdfs/plano_estudo_pca.pdf','_blank')">
                        Plano de estudo
                    </button>
                </div>

                <!-- Unidade 1 -->
                <div class="card-simple unidade-card" data-unidade="1" tabindex="0">
                    <div class="unidade-header">
                        <span class="unidade-tag">Unidade 1</span>
                        <span id="badge-u1" class="unidade-badge">Em andamento</span>
                    </div>
                    <h3>Introdu√ß√£o a Algoritmos</h3>
                    <p>Algoritmo, problema comput√°vel, pseudoc√≥digo e fluxogramas.</p>
                    <div class="unidade-actions">
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u1_resumo.pdf','_blank')">
                            Resumo em PDF
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u1_exercicios.pdf','_blank')">
                            Exerc√≠cios
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.location.href='aulas.html#intro_algoritmos'">
                            Aula em v√≠deo
                        </button>
                    </div>
                </div>

                <!-- Unidade 2 -->
                <div class="card-simple unidade-card" data-unidade="2" tabindex="0">
                    <div class="unidade-header">
                        <span class="unidade-tag">Unidade 2</span>
                        <span id="badge-u2" class="unidade-badge">Bloqueada</span>
                    </div>
                    <h3>Vari√°veis e Operadores</h3>
                    <p>Tipos de dados, declara√ß√£o, atribui√ß√£o e operadores.</p>
                    <div class="unidade-actions">
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u2_resumo.pdf','_blank')">
                            Resumo em PDF
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u2_exercicios.pdf','_blank')">
                            Exerc√≠cios
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.location.href='aulas.html#variaveis_operadores'">
                            Aula em v√≠deo
                        </button>
                    </div>
                </div>

                <!-- Unidade 3 -->
                <div class="card-simple unidade-card" data-unidade="3" tabindex="0">
                    <div class="unidade-header">
                        <span class="unidade-tag">Unidade 3</span>
                        <span id="badge-u3" class="unidade-badge">Bloqueada</span>
                    </div>
                    <h3>Estruturas de Decis√£o</h3>
                    <p>Condicionais simples, compostas e sele√ß√£o m√∫ltipla.</p>
                    <div class="unidade-actions">
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u3_resumo.pdf','_blank')">
                            Resumo em PDF
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u3_exercicios.pdf','_blank')">
                            Exerc√≠cios
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.location.href='aulas.html#estruturas_decisao'">
                            Aula em v√≠deo
                        </button>
                    </div>
                </div>

                <!-- Unidade 4 -->
                <div class="card-simple unidade-card" data-unidade="4" tabindex="0">
                    <div class="unidade-header">
                        <span class="unidade-tag">Unidade 4</span>
                        <span id="badge-u4" class="unidade-badge">Bloqueada</span>
                    </div>
                    <h3>Estruturas de Repeti√ß√£o</h3>
                    <p>La√ßos contados e condicionais com acumuladores e contadores.</p>
                    <div class="unidade-actions">
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u4_resumo.pdf','_blank')">
                            Resumo em PDF
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u4_exercicios.pdf','_blank')">
                            Exerc√≠cios
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.location.href='aulas.html#estruturas_repeticao'">
                            Aula em v√≠deo
                        </button>
                    </div>
                </div>

                <!-- Unidade 5 -->
                <div class="card-simple unidade-card" data-unidade="5" tabindex="0">
                    <div class="unidade-header">
                        <span class="unidade-tag">Unidade 5</span>
                        <span id="badge-u5" class="unidade-badge">Bloqueada</span>
                    </div>
                    <h3>Vetores e Matrizes</h3>
                    <p>Declara√ß√£o e varredura de cole√ß√µes de dados em vetores e matrizes.</p>
                    <div class="unidade-actions">
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u5_resumo.pdf','_blank')">
                            Resumo em PDF
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u5_exercicios.pdf','_blank')">
                            Exerc√≠cios
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.location.href='aulas.html#vetores_matrizes'">
                            Aula em v√≠deo
                        </button>
                    </div>
                </div>

                <!-- Unidade 6 -->
                <div class="card-simple unidade-card" data-unidade="6" tabindex="0">
                    <div class="unidade-header">
                        <span class="unidade-tag">Unidade 6</span>
                        <span id="badge-u6" class="unidade-badge">Bloqueada</span>
                    </div>
                    <h3>Resolu√ß√£o de Problemas</h3>
                    <p>Integra√ß√£o de todos os t√≥picos em pequenos projetos.</p>
                    <div class="unidade-actions">
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u6_resumo.pdf','_blank')">
                            Resumo em PDF
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.open('pdfs/u6_exercicios.pdf','_blank')">
                            Exerc√≠cios
                        </button>
                        <button type="button" class="home-link-btn"
                                onclick="window.location.href='aulas.html#resolucao_problemas'">
                            Aula em v√≠deo
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="talkback-container" class="hidden">
    <div class="bot-icon">üîä</div>
    <p id="talkback-message">Talkback ativado.</p>
</div>

<script src="script.js"></script>

<script>
// Estilo extra para centralizar e deixar em grid elegante
const conteudosStyle = document.createElement('style');
conteudosStyle.textContent = `
.conteudos-main h1 { margin-bottom: 4px; }
.conteudos-subtitle { font-size: 13px; opacity:.8; margin-bottom: 16px; }
.unidade-atual-card {
    margin-bottom: 16px;
    display:flex;
    flex-direction:column;
    align-items:flex-start;
    justify-content:center;
    gap:2px;
}
.unidade-atual-label { font-size: 13px; opacity:.8; margin:0; }
.unidade-atual-nome { font-size: 1.1rem; font-weight:600; margin:0; }
.unidade-atual-status { font-size: 13px; margin:0; color:#4a4ae6; }
.unidades-grid {
    display:grid;
    grid-template-columns: minmax(0, 2fr) minmax(0, 2fr) minmax(0, 2fr);
    gap:16px;
    align-items:start;
}
@media (max-width: 1024px){
    .unidades-grid { grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 768px){
    .unidades-grid { grid-template-columns: minmax(0,1fr); }
}
.mapa-card { grid-row: span 2; }
.conteudos-list { padding-left:18px; font-size:14px; margin-bottom:10px; }
.conteudos-list li { margin-bottom:3px; }
.unidade-card h3 { margin:4px 0; }
.unidade-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:4px;
}
.unidade-tag {
    font-size:11px;
    padding:2px 8px;
    border-radius:999px;
    background:#eef2ff;
    color:#3730a3;
}
.unidade-badge {
    font-size:11px;
    padding:2px 8px;
    border-radius:999px;
    background:#f3f4f6;
}
.unidade-badge.done {
    background:#dcfce7;
    color:#166534;
}
.unidade-badge.current {
    background:#dbeafe;
    color:#1d4ed8;
}
.unidade-badge.locked {
    background:#fef3c7;
    color:#92400e;
}
.unidade-actions {
    margin-top:10px;
    display:flex;
    flex-wrap:wrap;
    gap:6px;
}
.home-link-btn {
    border:none;
    border-radius:999px;
    padding:6px 10px;
    background:#4a4ae6;
    color:#fff;
    font-size:12px;
    cursor:pointer;
}
.home-link-btn:hover { opacity:.95; }
`;
document.head.appendChild(conteudosStyle);

// Atualizar perfil b√°sico se salvo
document.addEventListener('DOMContentLoaded', () => {
    const nome  = localStorage.getItem('perfil_nome');
    const email = localStorage.getItem('perfil_email');
    const foto  = localStorage.getItem('perfil_foto');
    if (nome)  document.getElementById('aluno-nome').textContent  = nome;
    if (email) document.getElementById('aluno-email').textContent = email;
    if (foto)  document.getElementById('aluno-foto').src          = foto;

    atualizarUnidadesConteudos();
});

// L√™ flags de progresso e ajusta badges / unidade atual
function atualizarUnidadesConteudos() {
    const u1Done = localStorage.getItem('pca_mod1_concluido') === 'true';
    const u2Done = localStorage.getItem('pca_mod2_concluido') === 'true';
    const u3Done = localStorage.getItem('pca_mod3_concluido') === 'true';
    const u4Done = localStorage.getItem('pca_mod4_concluido') === 'true';
    const u5Done = localStorage.getItem('pca_mod5_concluido') === 'true';
    const u6Done = localStorage.getItem('pca_mod6_concluido') === 'true';

    const badges = {
        1: document.getElementById('badge-u1'),
        2: document.getElementById('badge-u2'),
        3: document.getElementById('badge-u3'),
        4: document.getElementById('badge-u4'),
        5: document.getElementById('badge-u5'),
        6: document.getElementById('badge-u6')
    };

    const concluido = {1:u1Done,2:u2Done,3:u3Done,4:u4Done,5:u5Done,6:u6Done};

    let unidadeAtual = 1;
    for (let i=1;i<=6;i++){
        const b = badges[i];
        if (!b) continue;
        b.classList.remove('done','current','locked');

        if (concluido[i]) {
            b.textContent = 'Finalizada';
            b.classList.add('done');
            unidadeAtual = Math.max(unidadeAtual, i+1);
        } else {
            b.textContent = 'Em andamento';
            b.classList.add('current');
            // unidades depois da primeira n√£o conclu√≠da ficam ‚Äúbloqueadas‚Äù visualmente
            for (let j=i+1;j<=6;j++){
                const bj = badges[j];
                if (bj && !concluido[j]) {
                    bj.textContent = 'Bloqueada';
                    bj.classList.remove('done','current');
                    bj.classList.add('locked');
                }
            }
            break;
        }
    }

    if (unidadeAtual>6) unidadeAtual = 6;

    const nomesUnidades = {
        1:'Unidade 1 ‚Äì Introdu√ß√£o a Algoritmos',
        2:'Unidade 2 ‚Äì Vari√°veis e Operadores',
        3:'Unidade 3 ‚Äì Estruturas de Decis√£o',
        4:'Unidade 4 ‚Äì Estruturas de Repeti√ß√£o',
        5:'Unidade 5 ‚Äì Vetores e Matrizes',
        6:'Unidade 6 ‚Äì Resolu√ß√£o de Problemas'
    };

    document.getElementById('unidade-atual-nome').textContent = nomesUnidades[unidadeAtual];

    const statusSpan = document.getElementById('unidade-atual-status');
    if (concluido[unidadeAtual]) {
        statusSpan.textContent = 'Finalizada';
    } else {
        statusSpan.textContent = 'Em andamento';
    }
}
</script>
</body>
</html>
