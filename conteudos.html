<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Conte√∫dos - EducaF√°cil</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body id="page-body">

<!-- WIDGET DE ACESSIBILIDADE (MESMA ESTRUTURA DAS OUTRAS TELAS) -->
<div id="accessibility-widget" class="ac-widget ac-hidden" aria-hidden="true">
    <!-- ... mantenha aqui o mesmo widget j√° usado nas outras telas ... -->
</div>

<button id="accessibility-btn" class="ac-fab" aria-label="Abrir menu de acessibilidade">
    <img src="https://api.iconify.design/material-symbols/accessibility-new.svg?color=%23ffffff"
         alt="√çcone de acessibilidade">
</button>

<div class="dashboard-layout">
    <div class="sidebar">
        <div class="profile-box">
            <img id="aluno-foto" src="https://i.imgur.com/gKjG1o2.png" alt="Foto de perfil do Aluno">
            <p id="aluno-nome" class="aluno-name" style="font-weight: 600;">Aluno</p>
            <p id="aluno-email" class="aluno-email">aluno.ic9@educ.edu.br</p>
        </div>
        <nav class="sidebar-nav">
            <div class="nav-item"><a href="home.html">üè† Home</a></div>
            <div class="nav-item"><a href="forum.html">üí¨ F√≥rum</a></div>
            <div class="nav-item"><a href="aulas.html">‚ñ∂Ô∏è Aulas</a></div>
            <div class="nav-item active"><a href="conteudos.html">üìö Conte√∫dos</a></div>
            <div class="nav-item"><a href="exercicios.html">üìù Exerc√≠cios</a></div>
            <div class="nav-item"><a href="configuracoes.html">‚öôÔ∏è Configura√ß√µes</a></div>
            <div class="nav-item"><a href="certificados.html">üèÖ Certificados</a></div>
        </nav>
        <input type="text" placeholder="Pesquisar" aria-label="Pesquisar na plataforma"
               style="margin: 20px 15px; padding: 8px; border-radius: 10px; border: none;
                      width: calc(100% - 30px); opacity: 0.8;">
    </div>

    <div class="main-content">
        <div class="main-content-area jornada-main">
            <!-- Cabe√ßalho Jornada -->
            <div class="jornada-top-card">
                <div class="jornada-icon">üöÄ</div>
                <div>
                    <h1>In√≠cio da Jornada</h1>
                    <p>Construa seu conhecimento unidade por unidade.</p>
                </div>
            </div>
            <p class="jornada-voce-aqui" id="jornada-voce-aqui">Voc√™ est√° aqui</p>

            <!-- Linha vertical da jornada -->
            <div class="jornada-flow">
                <!-- Unidade 1 -->
                <div class="jornada-step" data-unidade="1">
                    <div class="jornada-connector"></div>
                    <div class="jornada-card" id="card-u1">
                        <div class="jornada-card-header">
                            <div class="jornada-number">01</div>
                            <div class="jornada-header-text">
                                <span class="jornada-etapa">Funda√ß√£o</span>
                                <span class="jornada-status" id="status-u1">Em andamento</span>
                            </div>
                            <div class="jornada-target">üéØ</div>
                        </div>
                        <h2>Unidade 1 ‚Äì Introdu√ß√£o a Algoritmos</h2>
                        <p class="jornada-desc">
                            Entenda o que √© um algoritmo, como representar solu√ß√µes em pseudoc√≥digo e fluxogramas.
                        </p>
                        <div class="jornada-progress">
                            <div class="jornada-progress-bar">
                                <div class="jornada-progress-fill" id="prog-u1" style="width:0%;"></div>
                            </div>
                            <span id="prog-u1-text">0%</span>
                        </div>
                        <div class="jornada-actions">
                            <button type="button" class="jornada-btn"
                                    onclick="window.location.href='aulas.html#intro_algoritmos'">
                                Ver aulas da unidade
                            </button>
                            <button type="button" class="jornada-secondary-btn"
                                    onclick="window.location.href='exercicios.html'">
                                Ir para exerc√≠cios
                            </button>
                        </div>
                        <div class="jornada-links">
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u1_resumo.pdf','_blank')">
                                Resumo em PDF
                            </button>
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u1_exercicios.pdf','_blank')">
                                Lista de exerc√≠cios
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Unidade 2 -->
                <div class="jornada-step" data-unidade="2">
                    <div class="jornada-connector"></div>
                    <div class="jornada-card jornada-card-locked" id="card-u2">
                        <div class="jornada-card-header">
                            <div class="jornada-number">02</div>
                            <div class="jornada-header-text">
                                <span class="jornada-etapa">Funda√ß√£o</span>
                                <span class="jornada-status" id="status-u2">Bloqueada</span>
                            </div>
                            <div class="jornada-target">üîí</div>
                        </div>
                        <h2>Unidade 2 ‚Äì Vari√°veis e Operadores</h2>
                        <p class="jornada-desc">
                            Trabalhe com tipos de dados, vari√°veis e operadores aritm√©ticos, relacionais e l√≥gicos.
                        </p>
                        <div class="jornada-progress">
                            <div class="jornada-progress-bar">
                                <div class="jornada-progress-fill" id="prog-u2" style="width:0%;"></div>
                            </div>
                            <span id="prog-u2-text">0%</span>
                        </div>
                        <div class="jornada-actions">
                            <button type="button" class="jornada-btn"
                                    onclick="window.location.href='aulas.html#variaveis_operadores'">
                                Ver aulas da unidade
                            </button>
                            <button type="button" class="jornada-secondary-btn"
                                    onclick="window.location.href='exercicios.html'">
                                Ir para exerc√≠cios
                            </button>
                        </div>
                        <div class="jornada-links">
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u2_resumo.pdf','_blank')">
                                Resumo em PDF
                            </button>
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u2_exercicios.pdf','_blank')">
                                Lista de exerc√≠cios
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Unidade 3 -->
                <div class="jornada-step" data-unidade="3">
                    <div class="jornada-connector"></div>
                    <div class="jornada-card jornada-card-locked" id="card-u3">
                        <div class="jornada-card-header">
                            <div class="jornada-number">03</div>
                            <div class="jornada-header-text">
                                <span class="jornada-etapa">Funda√ß√£o</span>
                                <span class="jornada-status" id="status-u3">Bloqueada</span>
                            </div>
                            <div class="jornada-target">üîí</div>
                        </div>
                        <h2>Unidade 3 ‚Äì Estruturas de Decis√£o</h2>
                        <p class="jornada-desc">
                            Condicionais simples, compostas e m√∫ltiplas para tomada de decis√£o.
                        </p>
                        <div class="jornada-progress">
                            <div class="jornada-progress-bar">
                                <div class="jornada-progress-fill" id="prog-u3" style="width:0%;"></div>
                            </div>
                            <span id="prog-u3-text">0%</span>
                        </div>
                        <div class="jornada-actions">
                            <button type="button" class="jornada-btn"
                                    onclick="window.location.href='aulas.html#estruturas_decisao'">
                                Ver aulas da unidade
                            </button>
                            <button type="button" class="jornada-secondary-btn"
                                    onclick="window.location.href='exercicios.html'">
                                Ir para exerc√≠cios
                            </button>
                        </div>
                        <div class="jornada-links">
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u3_resumo.pdf','_blank')">
                                Resumo em PDF
                            </button>
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u3_exercicios.pdf','_blank')">
                                Lista de exerc√≠cios
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Unidade 4 -->
                <div class="jornada-step" data-unidade="4">
                    <div class="jornada-connector"></div>
                    <div class="jornada-card jornada-card-locked" id="card-u4">
                        <div class="jornada-card-header">
                            <div class="jornada-number">04</div>
                            <div class="jornada-header-text">
                                <span class="jornada-etapa">Funda√ß√£o</span>
                                <span class="jornada-status" id="status-u4">Bloqueada</span>
                            </div>
                            <div class="jornada-target">üîí</div>
                        </div>
                        <h2>Unidade 4 ‚Äì Estruturas de Repeti√ß√£o</h2>
                        <p class="jornada-desc">
                            La√ßos contados e condicionais, acumuladores e contadores.
                        </p>
                        <div class="jornada-progress">
                            <div class="jornada-progress-bar">
                                <div class="jornada-progress-fill" id="prog-u4" style="width:0%;"></div>
                            </div>
                            <span id="prog-u4-text">0%</span>
                        </div>
                        <div class="jornada-actions">
                            <button type="button" class="jornada-btn"
                                    onclick="window.location.href='aulas.html#estruturas_repeticao'">
                                Ver aulas da unidade
                            </button>
                            <button type="button" class="jornada-secondary-btn"
                                    onclick="window.location.href='exercicios.html'">
                                Ir para exerc√≠cios
                            </button>
                        </div>
                        <div class="jornada-links">
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u4_resumo.pdf','_blank')">
                                Resumo em PDF
                            </button>
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u4_exercicios.pdf','_blank')">
                                Lista de exerc√≠cios
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Unidade 5 -->
                <div class="jornada-step" data-unidade="5">
                    <div class="jornada-connector"></div>
                    <div class="jornada-card jornada-card-locked" id="card-u5">
                        <div class="jornada-card-header">
                            <div class="jornada-number">05</div>
                            <div class="jornada-header-text">
                                <span class="jornada-etapa">Aplica√ß√£o</span>
                                <span class="jornada-status" id="status-u5">Bloqueada</span>
                            </div>
                            <div class="jornada-target">üîí</div>
                        </div>
                        <h2>Unidade 5 ‚Äì Vetores e Matrizes</h2>
                        <p class="jornada-desc">
                            Organiza√ß√£o de cole√ß√µes de dados em mem√≥ria usando vetores e matrizes.
                        </p>
                        <div class="jornada-progress">
                            <div class="jornada-progress-bar">
                                <div class="jornada-progress-fill" id="prog-u5" style="width:0%;"></div>
                            </div>
                            <span id="prog-u5-text">0%</span>
                        </div>
                        <div class="jornada-actions">
                            <button type="button" class="jornada-btn"
                                    onclick="window.location.href='aulas.html#vetores_matrizes'">
                                Ver aulas da unidade
                            </button>
                            <button type="button" class="jornada-secondary-btn"
                                    onclick="window.location.href='exercicios.html'">
                                Ir para exerc√≠cios
                            </button>
                        </div>
                        <div class="jornada-links">
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u5_resumo.pdf','_blank')">
                                Resumo em PDF
                            </button>
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u5_exercicios.pdf','_blank')">
                                Lista de exerc√≠cios
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Unidade 6 -->
                <div class="jornada-step" data-unidade="6">
                    <div class="jornada-connector jornada-connector-last"></div>
                    <div class="jornada-card jornada-card-locked" id="card-u6">
                        <div class="jornada-card-header">
                            <div class="jornada-number">06</div>
                            <div class="jornada-header-text">
                                <span class="jornada-etapa">Aplica√ß√£o</span>
                                <span class="jornada-status" id="status-u6">Bloqueada</span>
                            </div>
                            <div class="jornada-target">üéì</div>
                        </div>
                        <h2>Unidade 6 ‚Äì Resolu√ß√£o de Problemas</h2>
                        <p class="jornada-desc">
                            Integra√ß√£o de todos os conte√∫dos em projetos aplicados ao cotidiano.
                        </p>
                        <div class="jornada-progress">
                            <div class="jornada-progress-bar">
                                <div class="jornada-progress-fill" id="prog-u6" style="width:0%;"></div>
                            </div>
                            <span id="prog-u6-text">0%</span>
                        </div>
                        <div class="jornada-actions">
                            <button type="button" class="jornada-btn"
                                    onclick="window.location.href='aulas.html#resolucao_problemas'">
                                Ver aulas da unidade
                            </button>
                            <button type="button" class="jornada-secondary-btn"
                                    onclick="window.location.href='exercicios.html'">
                                Ir para exerc√≠cios
                            </button>
                        </div>
                        <div class="jornada-links">
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u6_resumo.pdf','_blank')">
                                Resumo em PDF
                            </button>
                            <button type="button" class="jornada-link-btn"
                                    onclick="window.open('pdfs/u6_exercicios.pdf','_blank')">
                                Lista de exerc√≠cios
                            </button>
                        </div>
                    </div>
                </div>

            </div> <!-- fim jornada-flow -->
        </div>
    </div>
</div>

<div id="talkback-container" class="hidden">
    <div class="bot-icon">üîä</div>
    <p id="talkback-message">Talkback ativado.</p>
</div>

<script src="script.js"></script>

<script>
// Estilo extra inspirado no fluxo vertical do exemplo
const jornadaStyle = document.createElement('style');
jornadaStyle.textContent = `
.jornada-main {
    max-width: 780px;
    margin: 0 auto;
}
.jornada-top-card {
    border-radius: 18px;
    border: 1px dashed #cbd5ff;
    background: #f9fbff;
    padding: 18px 22px;
    display:flex;
    align-items:center;
    gap:12px;
    margin-bottom:4px;
}
.jornada-top-card h1 {
    margin:0;
    font-size:1.2rem;
}
.jornada-top-card p {
    margin:2px 0 0;
    font-size:13px;
    opacity:.85;
}
.jornada-icon {
    width:40px;
    height:40px;
    border-radius:999px;
    display:flex;
    align-items:center;
    justify-content:center;
    background:#eef2ff;
    font-size:20px;
}
.jornada-voce-aqui {
    text-align:center;
    font-size:11px;
    text-transform:uppercase;
    color:#2563eb;
    margin:4px 0 10px;
}
.jornada-flow {
    position:relative;
    display:flex;
    flex-direction:column;
    gap:24px;
}
.jornada-step {
    position:relative;
}
.jornada-connector {
    position:absolute;
    left:28px;
    top:-10px;
    bottom:100%;
    width:2px;
    background:linear-gradient(to bottom, #2563eb, #bfdbfe);
}
.jornada-step:first-child .jornada-connector {
    display:none;
}
.jornada-connector-last {
    bottom:40%;
}
.jornada-card {
    margin-left:40px;
    border-radius:16px;
    border:1px solid #dbeafe;
    background:#ffffff;
    box-shadow:0 12px 25px rgba(15,23,42,0.08);
    padding:16px 20px 16px;
}
.jornada-card-locked {
    opacity:.65;
}
.jornada-card-header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:8px;
}
.jornada-number {
    width:40px;
    height:40px;
    border-radius:14px;
    background:#2563eb;
    color:#fff;
    font-weight:700;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:16px;
}
.jornada-header-text {
    flex:1;
    margin-left:10px;
    display:flex;
    flex-direction:column;
    gap:2px;
}
.jornada-etapa {
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:.06em;
    opacity:.7;
}
.jornada-status {
    font-size:12px;
    font-weight:600;
}
.jornada-target {
    font-size:20px;
}
.jornada-card h2 {
    margin:4px 0 2px;
    font-size:1.05rem;
}
.jornada-desc {
    margin:0 0 10px;
    font-size:13px;
    opacity:.9;
}
.jornada-progress {
    display:flex;
    align-items:center;
    gap:6px;
    margin-bottom:8px;
}
.jornada-progress-bar {
    flex:1;
    height:6px;
    border-radius:999px;
    background:#e5e7eb;
    overflow:hidden;
}
.jornada-progress-fill {
    height:100%;
    border-radius:999px;
    background:linear-gradient(90deg,#2563eb,#4f46e5);
}
.jornada-progress span,
#prog-u1-text,#prog-u2-text,#prog-u3-text,#prog-u4-text,#prog-u5-text,#prog-u6-text {
    font-size:11px;
    opacity:.75;
}
.jornada-actions {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin-bottom:6px;
}
.jornada-btn {
    border:none;
    border-radius:999px;
    padding:8px 18px;
    background:#2563eb;
    color:#fff;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
}
.jornada-secondary-btn {
    border:none;
    border-radius:999px;
    padding:8px 14px;
    background:#eef2ff;
    color:#1e293b;
    font-size:12px;
    cursor:pointer;
}
.jornada-link-btn {
    border:none;
    border-radius:999px;
    padding:6px 10px;
    background:#f3f4ff;
    color:#1e293b;
    font-size:11px;
    cursor:pointer;
}
.jornada-links {
    display:flex;
    flex-wrap:wrap;
    gap:6px;
}
@media (max-width:768px){
    .jornada-card { margin-left:24px; }
}
`;
document.head.appendChild(jornadaStyle);

// Perfil
document.addEventListener('DOMContentLoaded', () => {
    const nome  = localStorage.getItem('perfil_nome');
    const email = localStorage.getItem('perfil_email');
    const foto  = localStorage.getItem('perfil_foto');
    if (nome)  document.getElementById('aluno-nome').textContent  = nome;
    if (email) document.getElementById('aluno-email').textContent = email;
    if (foto)  document.getElementById('aluno-foto').src          = foto;

    atualizarJornada();
});

// L√™ progresso salvo (mesmas chaves usadas na home/exerc√≠cios)
function lerPct(chaveConcluido, chaveParcial) {
    if (localStorage.getItem(chaveConcluido) === 'true') return 100;
    const parcial = parseInt(localStorage.getItem(chaveParcial) || '0', 10);
    return Math.max(0, Math.min(100, parcial));
}

function atualizarJornada() {
    const unidades = [1,2,3,4,5,6];

    const pct = {
        1: lerPct('pca_mod1_concluido','pca_mod1_progresso'),
        2: lerPct('pca_mod2_concluido','pca_mod2_progresso'),
        3: lerPct('pca_mod3_concluido','pca_mod3_progresso'),
        4: lerPct('pca_mod4_concluido','pca_mod4_progresso'),
        5: lerPct('pca_mod5_concluido','pca_mod5_progresso'),
        6: lerPct('pca_mod6_concluido','pca_mod6_progresso')
    };

    const concluido = {
        1: localStorage.getItem('pca_mod1_concluido') === 'true',
        2: localStorage.getItem('pca_mod2_concluido') === 'true',
        3: localStorage.getItem('pca_mod3_concluido') === 'true',
        4: localStorage.getItem('pca_mod4_concluido') === 'true',
        5: localStorage.getItem('pca_mod5_concluido') === 'true',
        6: localStorage.getItem('pca_mod6_concluido') === 'true'
    };

    let unidadeAtual = 1;

    unidades.forEach(i => {
        const progBar = document.getElementById('prog-u'+i);
        const progTxt = document.getElementById('prog-u'+i+'-text');
        const status  = document.getElementById('status-u'+i);
        const card    = document.getElementById('card-u'+i);

        const valor = pct[i];
        if (progBar) progBar.style.width = valor + '%';
        if (progTxt) progTxt.textContent = valor + '%';

        if (card) card.classList.add('jornada-card-locked');
        if (status) {
            status.textContent = 'Bloqueada';
        }
    });

    // Libera na sequ√™ncia: primeira n√£o conclu√≠da √© atual, anteriores finalizadas
    for (let i=1;i<=6;i++){
        const card   = document.getElementById('card-u'+i);
        const status = document.getElementById('status-u'+i);

        if (!card || !status) continue;

        if (concluido[i]) {
            card.classList.remove('jornada-card-locked');
            status.textContent = 'Finalizada';
            unidadeAtual = Math.min(unidadeAtual+1, 6);
        } else {
            // esta √© a atual
            card.classList.remove('jornada-card-locked');
            status.textContent = 'Em andamento';
            unidadeAtual = i;
            // as pr√≥ximas ficam bloqueadas (j√° est√£o marcadas como bloqueadas acima)
            break;
        }
    }

    const nomesUnidades = {
        1:'Unidade 1 ‚Äì Introdu√ß√£o a Algoritmos',
        2:'Unidade 2 ‚Äì Vari√°veis e Operadores',
        3:'Unidade 3 ‚Äì Estruturas de Decis√£o',
        4:'Unidade 4 ‚Äì Estruturas de Repeti√ß√£o',
        5:'Unidade 5 ‚Äì Vetores e Matrizes',
        6:'Unidade 6 ‚Äì Resolu√ß√£o de Problemas'
    };

    const labelAtual = document.getElementById('jornada-voce-aqui');
    if (labelAtual) {
        labelAtual.textContent = 'Voc√™ est√° na ' + nomesUnidades[unidadeAtual];
    }
}
</script>
</body>
</html>
